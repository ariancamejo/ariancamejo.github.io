!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{IimB:function(t,i,c){"use strict";c.r(i),c.d(i,"OrganizationsModule",(function(){return de}));var r,o=c("ofXK"),l=c("+0xr"),s=c("XNiG"),b=c("3Pt+"),u=c("0EQZ"),d=c("1G5W"),f=c("Kj3r"),h=c("/uUt"),g=c("PVWW"),p=c("fXoL"),m=c("cFCT"),v=c("0IaG"),x=c("B9zo"),y=c("XiUz"),O=c("bTqV"),w=c("znSr"),S=c("NFeN"),U=c("uREc"),V=c("2nsM"),_=c("STbY"),C=((r=function(){function e(t,i){var a=this;n(this,e),this.organizationSevice=t,this.dialog=i,this.deleteItems=function(){return a.dialog.open(V.a,{panelClass:"form-dialog",data:{message:"Are you sure ?",isDelete:!0},disableClose:!0}).afterClosed().subscribe((function(e){}))},this._unsubscribeAll=new s.a,this.selectedItems=[]}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.organizationSevice.getSelectedItemsObservable().pipe(Object(d.a)(this._unsubscribeAll)).subscribe((function(t){e.selectedItems=t}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),e}()).\u0275fac=function(e){return new(e||r)(p.Pb(m.a),p.Pb(v.b))},r.\u0275cmp=p.Jb({type:r,selectors:[["organization-select-bar"]],decls:27,vars:2,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"p-24"],["fxFlex","0 1 auto","fxFlex.gt-sm","220px",1,"close-button-wrapper"],["mat-button","","fxLayout","row","fxLayoutAlign","start center",1,"p-8",3,"click"],[1,"mr-8"],[1,"text-uppercase"],["fxFlex","","fxLayout","row","fxLayoutAlign","end center","fxLayoutAlign.gt-sm","space-between center"],[1,"selected-contacts-count"],[1,"mr-4"],["mat-icon-button","",3,"matMenuTriggerFor"],["selectMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"multi-select-actions"],["mat-icon-button","","aria-label","delete selected",3,"click"]],template:function(e,t){if(1&e&&(p.Vb(0,"div",0),p.Vb(1,"div",1),p.Vb(2,"button",2),p.dc("click",(function(){return t.organizationSevice.onChangeDeleteTopBar(!1)})),p.Vb(3,"mat-icon",3),p.Qc(4,"arrow_back"),p.Ub(),p.Vb(5,"span",4),p.Qc(6,"Back"),p.Ub(),p.Ub(),p.Ub(),p.Vb(7,"div",5),p.Vb(8,"div"),p.Vb(9,"span",6),p.Vb(10,"span",7),p.Qc(11),p.Ub(),p.Vb(12,"span"),p.Qc(13,"selected"),p.Ub(),p.Ub(),p.Vb(14,"button",8),p.Vb(15,"mat-icon"),p.Qc(16,"arrow_drop_down"),p.Ub(),p.Ub(),p.Vb(17,"mat-menu",null,9),p.Vb(19,"button",10),p.dc("click",(function(){return t.organizationSevice.onSelectedItemsChanged([],!0)})),p.Qc(20,"Select all"),p.Ub(),p.Vb(21,"button",10),p.dc("click",(function(){return t.organizationSevice.onSelectedItemsChanged([])})),p.Qc(22,"Deselect all"),p.Ub(),p.Ub(),p.Ub(),p.Vb(23,"div",11),p.Vb(24,"button",12),p.dc("click",(function(){return t.deleteItems()})),p.Vb(25,"mat-icon"),p.Qc(26,"delete"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub()),2&e){var n=p.Ac(18);p.Db(11),p.Rc(t.selectedItems.length),p.Db(3),p.oc("matMenuTriggerFor",n)}},directives:[y.a,y.c,y.b,O.b,S.a,_.c,_.d,_.a],styles:["[_nghost-%COMP%]{flex:1;position:absolute;top:0;right:0;left:0;height:120px;z-index:99}"]}),r),D=c("bv9b"),k=c("fE3o"),A=c("EwFO"),z=c("wSA8"),P=c("FKr1"),I=function(e){return{"active accent":e}};function Q(e,t){if(1&e){var n=p.Wb();p.Vb(0,"div",11),p.dc("click",(function(){p.Ec(n);var e=t.$implicit;return p.hc(2).changeFilter(e)})),p.Vb(1,"a",12),p.Vb(2,"div",8),p.Qc(3),p.Ub(),p.Ub(),p.Ub()}if(2&e){var i=t.$implicit,a=p.hc(2);p.Db(1),p.oc("ngClass",p.rc(2,I,a.filterBy&&a.filterBy.id===i.id)),p.Db(2),p.Rc(i.name)}}function L(e,t){if(1&e&&(p.Vb(0,"div"),p.Oc(1,Q,4,4,"div",10),p.Ub()),2&e){var n=p.hc();p.Db(1),p.oc("ngForOf",n.areas)}}var M,F=((M=function(){function e(t,i){var a=this;n(this,e),this._areaService=t,this._organizationService=i,this.changeFilter=function(e){return a._organizationService.onChangeFilter(e)},this._areaService.fetchAreas(),this._unsubscribeAll=new s.a}return a(e,[{key:"ngOnInit",value:function(){var e=this;this._areaService.getAreas().pipe(Object(d.a)(this._unsubscribeAll)).subscribe((function(t){e.areas=t})),this._organizationService.getFilterByObservable().pipe(Object(d.a)(this._unsubscribeAll)).subscribe((function(t){e.filterBy=t}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),e}()).\u0275fac=function(e){return new(e||M)(p.Pb(z.a),p.Pb(m.a))},M.\u0275cmp=p.Jb({type:M,selectors:[["organization-sirebar"]],decls:12,vars:4,consts:[[1,"sidebar-content"],[1,"card"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header","p-24"],[1,"h3"],["fusePerfectScrollbar","",1,"content","py-16"],[1,"nav","material2"],["aria-label","inbox",1,"nav-item"],["matRipple","",1,"nav-link",3,"ngClass","click"],[1,"title"],[4,"ngIf"],["class","nav-item","aria-label","frequently contacted",3,"click",4,"ngFor","ngForOf"],["aria-label","frequently contacted",1,"nav-item",3,"click"],["matRipple","",1,"nav-link",3,"ngClass"]],template:function(e,t){1&e&&(p.Vb(0,"div",0),p.Vb(1,"div",1),p.Vb(2,"div",2),p.Vb(3,"span",3),p.Qc(4,"Filter"),p.Ub(),p.Ub(),p.Vb(5,"div",4),p.Vb(6,"div",5),p.Vb(7,"div",6),p.Vb(8,"a",7),p.dc("click",(function(){return t.changeFilter(null)})),p.Vb(9,"span",8),p.Qc(10,"All Organizations"),p.Ub(),p.Ub(),p.Ub(),p.Oc(11,L,2,1,"div",9),p.Ub(),p.Ub(),p.Ub(),p.Ub()),2&e&&(p.Db(8),p.oc("ngClass",p.rc(2,I,null===t.filterBy)),p.Db(3),p.oc("ngIf",t.areas))},directives:[y.c,y.b,A.a,P.p,o.q,w.a,o.t,o.s],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 0 auto;height:100%}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0}@media screen and (min-width:960px){[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{padding:24px 4px 24px 24px}}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:0 1 auto;padding:0;border-radius:8px}@media screen and (min-width:960px){[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{flex:0 1 auto;border-bottom:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{flex:0 1 auto}"]}),M),j=c("bSwM");function T(e,t){1&e&&p.Qb(0,"organization-select-bar",15),2&e&&p.oc("@slideInTop",void 0)}function B(e,t){1&e&&p.Qb(0,"mat-progress-bar",16)}function q(e,t){1&e&&p.Qb(0,"div",17)}function E(e,t){1&e&&p.Qb(0,"th",31)}function R(e,t){if(1&e){var n=p.Wb();p.Vb(0,"td",32),p.Vb(1,"mat-checkbox",33),p.dc("click",(function(e){return p.Ec(n),e.stopPropagation()}))("change",(function(e){p.Ec(n);var i=t.$implicit,a=p.hc(2);return e?a.toogle(i):null})),p.Ub(),p.Ub()}if(2&e){var i=t.$implicit,a=p.hc(2);p.Db(1),p.oc("checked",a.selection.isSelected(i))("aria-label",a.checkboxLabel(i))}}function $(e,t){1&e&&(p.Vb(0,"th",31),p.Qc(1," Name"),p.Ub())}function N(e,t){if(1&e&&(p.Vb(0,"td",32),p.Qc(1),p.Ub()),2&e){var n=t.$implicit;p.Db(1),p.Sc(" ",n.name," ")}}function W(e,t){1&e&&(p.Vb(0,"th",31),p.Qc(1," Admin"),p.Ub())}function J(e,t){if(1&e&&(p.Vb(0,"td",32),p.Qc(1),p.Ub()),2&e){var n=t.$implicit;p.Db(1),p.Sc("",n.adminOrganization?n.adminOrganization.email:"-- None --"," ")}}function X(e,t){1&e&&(p.Vb(0,"th",31),p.Qc(1," Area"),p.Ub())}function H(e,t){if(1&e&&(p.Vb(0,"td",32),p.Qc(1),p.Ub()),2&e){var n=t.$implicit;p.Db(1),p.Sc("",n.area?n.area.name:"-- None --"," ")}}function G(e,t){1&e&&p.Qb(0,"tr",34)}function K(e,t){if(1&e){var n=p.Wb();p.Vb(0,"tr",35),p.dc("click",(function(){p.Ec(n);var e=t.$implicit;return p.hc(2).onDialog(e)})),p.Ub()}}var Y=function(){return{value:"50"}},Z=function(){return{y:"100%"}},ee=function(e){return{value:"*",params:e}},te=function(){return{value:"*"}},ne=function(){return{x:"100px"}};function ie(e,t){if(1&e&&(p.Vb(0,"div",18),p.Vb(1,"fuse-sidebar",19),p.Vb(2,"div",20),p.Qb(3,"organization-sirebar"),p.Ub(),p.Ub(),p.Vb(4,"div",21),p.Vb(5,"div",18),p.Vb(6,"table",22),p.Tb(7,23),p.Oc(8,E,1,0,"th",24),p.Oc(9,R,2,2,"td",25),p.Sb(),p.Tb(10,26),p.Oc(11,$,2,0,"th",24),p.Oc(12,N,2,1,"td",25),p.Sb(),p.Tb(13,27),p.Oc(14,W,2,0,"th",24),p.Oc(15,J,2,1,"td",25),p.Sb(),p.Tb(16,28),p.Oc(17,X,2,0,"th",24),p.Oc(18,H,2,1,"td",25),p.Sb(),p.Oc(19,G,1,0,"tr",29),p.Oc(20,K,1,0,"tr",30),p.Ub(),p.Ub(),p.Ub(),p.Ub()),2&e){var n=p.hc();p.oc("@animateStagger",p.qc(7,Y)),p.Db(1),p.oc("@animate",p.rc(9,ee,p.qc(8,Z))),p.Db(2),p.oc("@animate",p.qc(11,te)),p.Db(2),p.oc("@animate",p.rc(13,ee,p.qc(12,ne))),p.Db(1),p.oc("dataSource",n.dataSource),p.Db(13),p.oc("matHeaderRowDef",n.displayedColumns),p.Db(1),p.oc("matRowDefColumns",n.displayedColumns)}}var ae,ce,re=function(){return{delay:"300ms",scale:".2"}},oe=((ae=function(){function t(e,i){n(this,t),this._organizationService=e,this.dialog=i,this.displayedColumns=["select","name","adminOrganization","area"],this.selection=new u.c(!0,[]),this.fetching=!0,this.showDeleteTopBar=!1,this.searchString="",this._organizationService.fetchOrganizations(),this._unsubscribeAll=new s.a,this.searchInput=new b.e(this.searchString)}return a(t,[{key:"ngOnInit",value:function(){var t=this;this._organizationService.getFetchingObservable().pipe(Object(d.a)(this._unsubscribeAll)).subscribe((function(e){t.fetching=e})),this._organizationService.getOrganizationsObservable().pipe(Object(d.a)(this._unsubscribeAll)).subscribe((function(e){t.organizations=e,t.dataSource=new l.k(t.organizations)})),this._organizationService.getSearchTextObservable().pipe(Object(d.a)(this._unsubscribeAll)).subscribe((function(e){""===e&&t.searchInput.setValue(""),t.searchString=e,t.dataSource=new l.k(t.organizations.filter((function(e){return e.name.toLocaleLowerCase().includes(t.searchString.toLocaleLowerCase())})))})),this._organizationService.getSelectedItemsObservable().pipe(Object(d.a)(this._unsubscribeAll)).subscribe((function(n){var i;0===n.length?t.selection.clear():(i=t.selection).select.apply(i,e(n))})),this._organizationService.getDeleteTopBarObservable().pipe(Object(d.a)(this._unsubscribeAll)).subscribe((function(e){t.showDeleteTopBar=e})),this.searchInput.valueChanges.pipe(Object(d.a)(this._unsubscribeAll),Object(f.a)(300),Object(h.a)()).subscribe((function(e){t._organizationService.onSearchTextChanged(e)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"toogle",value:function(e){this.selection.toggle(e),this._organizationService.onSelectedItemsChanged(this.selection.selected)}},{key:"onDialog",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log(e)}},{key:"isAllSelected",value:function(){return this.selection.selected.length===this.dataSource.data.length}},{key:"masterToggle",value:function(){var e=this;this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach((function(t){return e.selection.select(t)})),this._organizationService.onSelectedItemsChanged(this.selection.selected)}},{key:"checkboxLabel",value:function(e){return e?"".concat(this.selection.isSelected(e)?"deselect":"select"," row ").concat(e.id+1):(this.isAllSelected()?"select":"deselect")+" all"}}]),t}()).\u0275fac=function(e){return new(e||ae)(p.Pb(m.a),p.Pb(v.b))},ae.\u0275cmp=p.Jb({type:ae,selectors:[["app-organizations"]],decls:22,vars:16,consts:[["id","table-element",1,"page-layout","simple","left-sidebar","inner-sidebar","inner-scroll"],["fxLayout","column","fxLayoutAlign","start","fxLayout.gt-xs","row","fxLayoutAlign.gt-xs","space-between center",1,"header","accent","p-16","p-sm-24"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","fxHide.gt-sm","",1,"sidebar-toggle","mr-12"],["fxLayout","row","fxLayoutAlign","start center",1,"logo"],[1,"logo-text","h1"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","",1,"ml-sm-32"],[1,"search-wrapper","mt-16","mt-sm-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["placeholder","Search for a organizations",3,"formControl"],["mat-fab","","id","add-contact-button","aria-label","add subarea",1,"sidebar-toggle","mr-12",3,"click"],["class","accent-600",4,"ngIf"],["mode","indeterminate",4,"ngIf"],["style","height: 4px;width: 100%",4,"ngIf"],["class","content",4,"fuseIfOnDom"],[1,"accent-600"],["mode","indeterminate"],[2,"height","4px","width","100%"],[1,"content"],["name","contacts-main-sidebar","position","left","lockedOpen","gt-sm",1,"sidebar"],["fusePerfectScrollbar","",1,"content"],["fusePerfectScrollbar","",1,"center","p-24","pb-56","pr-sm-92"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","adminOrganization"],["matColumnDef","area"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(e,t){1&e&&(p.Vb(0,"div",0),p.Vb(1,"div",1),p.Vb(2,"div",2),p.Vb(3,"button",3),p.Vb(4,"mat-icon"),p.Qc(5,"menu"),p.Ub(),p.Ub(),p.Vb(6,"div",4),p.Vb(7,"span",5),p.Qc(8," Organizations "),p.Ub(),p.Ub(),p.Ub(),p.Vb(9,"div",6),p.Vb(10,"div",7),p.Vb(11,"div",8),p.Vb(12,"mat-icon"),p.Qc(13,"search"),p.Ub(),p.Qb(14,"input",9),p.Ub(),p.Ub(),p.Ub(),p.Vb(15,"button",10),p.dc("click",(function(){return t.onDialog()})),p.Vb(16,"mat-icon"),p.Qc(17,"add"),p.Ub(),p.Ub(),p.Ub(),p.Oc(18,T,1,1,"organization-select-bar",11),p.Oc(19,B,1,0,"mat-progress-bar",12),p.Oc(20,q,1,0,"div",13),p.Oc(21,ie,21,15,"div",14),p.Ub()),2&e&&(p.Db(6),p.oc("@animate",p.rc(8,ee,p.qc(7,ne))),p.Db(3),p.oc("@animate",p.rc(11,ee,p.qc(10,ne))),p.Db(5),p.oc("formControl",t.searchInput),p.Db(1),p.oc("@animate",p.rc(14,ee,p.qc(13,re))),p.Db(3),p.oc("ngIf",t.showDeleteTopBar&&t.selection.selected.length>0),p.Db(1),p.oc("ngIf",t.fetching),p.Db(1),p.oc("ngIf",!t.fetching))},directives:[x.a,y.c,y.b,O.b,w.b,S.a,y.a,b.c,b.o,b.f,o.t,U.a,C,D.a,k.a,A.a,F,l.j,l.c,l.e,l.b,l.g,l.i,l.d,l.a,j.a,l.f,l.h],styles:["table{width:100%}table td,table th{padding:2px 10px}#table-element .header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}#table-element .header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}#table-element .header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}#table-element .content{overflow:hidden}#table-element .content .sidebar:not(.locked-open){background:#fff}"],encapsulation:2,data:{animation:g.a}}),ae),le=c("tyNb"),se=c("LPQX"),be=c("RaCk"),ue=[{path:"",component:oe}],de=((ce=function e(){n(this,e)}).\u0275mod=p.Nb({type:ce}),ce.\u0275inj=p.Mb({factory:function(e){return new(e||ce)},imports:[[o.c,le.j.forChild(ue),y.e,S.b,O.c,w.c,b.s,D.b,se.f,be.a,l.l,j.b,_.b,P.q,se.f]]}),ce)}}])}();