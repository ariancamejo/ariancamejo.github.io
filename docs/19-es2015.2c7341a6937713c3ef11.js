(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{IimB:function(e,t,n){"use strict";n.r(t),n.d(t,"OrganizationsModule",(function(){return ce}));var i=n("ofXK"),a=n("+0xr"),c=n("XNiG"),o=n("3Pt+"),r=n("0EQZ"),s=n("1G5W"),l=n("Kj3r"),b=n("/uUt"),d=n("PVWW"),u=n("fXoL"),h=n("cFCT"),g=n("0IaG"),p=n("B9zo"),f=n("XiUz"),m=n("bTqV"),x=n("znSr"),v=n("NFeN"),O=n("uREc"),w=n("2nsM"),V=n("STbY");let S=(()=>{class e{constructor(e,t){this.organizationSevice=e,this.dialog=t,this.deleteItems=()=>this.dialog.open(w.a,{panelClass:"form-dialog",data:{message:"Are you sure ?",isDelete:!0},disableClose:!0}).afterClosed().subscribe(e=>{}),this._unsubscribeAll=new c.a,this.selectedItems=[]}ngOnInit(){this.organizationSevice.getSelectedItemsObservable().pipe(Object(s.a)(this._unsubscribeAll)).subscribe(e=>{this.selectedItems=e})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return e.\u0275fac=function(t){return new(t||e)(u.Pb(h.a),u.Pb(g.b))},e.\u0275cmp=u.Jb({type:e,selectors:[["organization-select-bar"]],decls:27,vars:2,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"p-24"],["fxFlex","0 1 auto","fxFlex.gt-sm","220px",1,"close-button-wrapper"],["mat-button","","fxLayout","row","fxLayoutAlign","start center",1,"p-8",3,"click"],[1,"mr-8"],[1,"text-uppercase"],["fxFlex","","fxLayout","row","fxLayoutAlign","end center","fxLayoutAlign.gt-sm","space-between center"],[1,"selected-contacts-count"],[1,"mr-4"],["mat-icon-button","",3,"matMenuTriggerFor"],["selectMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"multi-select-actions"],["mat-icon-button","","aria-label","delete selected",3,"click"]],template:function(e,t){if(1&e&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"button",2),u.dc("click",(function(){return t.organizationSevice.onChangeDeleteTopBar(!1)})),u.Vb(3,"mat-icon",3),u.Qc(4,"arrow_back"),u.Ub(),u.Vb(5,"span",4),u.Qc(6,"Back"),u.Ub(),u.Ub(),u.Ub(),u.Vb(7,"div",5),u.Vb(8,"div"),u.Vb(9,"span",6),u.Vb(10,"span",7),u.Qc(11),u.Ub(),u.Vb(12,"span"),u.Qc(13,"selected"),u.Ub(),u.Ub(),u.Vb(14,"button",8),u.Vb(15,"mat-icon"),u.Qc(16,"arrow_drop_down"),u.Ub(),u.Ub(),u.Vb(17,"mat-menu",null,9),u.Vb(19,"button",10),u.dc("click",(function(){return t.organizationSevice.onSelectedItemsChanged([],!0)})),u.Qc(20,"Select all"),u.Ub(),u.Vb(21,"button",10),u.dc("click",(function(){return t.organizationSevice.onSelectedItemsChanged([])})),u.Qc(22,"Deselect all"),u.Ub(),u.Ub(),u.Ub(),u.Vb(23,"div",11),u.Vb(24,"button",12),u.dc("click",(function(){return t.deleteItems()})),u.Vb(25,"mat-icon"),u.Qc(26,"delete"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&e){const e=u.Ac(18);u.Db(11),u.Rc(t.selectedItems.length),u.Db(3),u.oc("matMenuTriggerFor",e)}},directives:[f.a,f.c,f.b,m.b,v.a,V.c,V.d,V.a],styles:["[_nghost-%COMP%]{flex:1;position:absolute;top:0;right:0;left:0;height:120px;z-index:99}"]}),e})();var U=n("bv9b"),_=n("fE3o"),C=n("EwFO"),y=n("wSA8"),D=n("FKr1");const z=function(e){return{"active accent":e}};function A(e,t){if(1&e){const e=u.Wb();u.Vb(0,"div",11),u.dc("click",(function(){u.Ec(e);const n=t.$implicit;return u.hc(2).changeFilter(n)})),u.Vb(1,"a",12),u.Vb(2,"div",8),u.Qc(3),u.Ub(),u.Ub(),u.Ub()}if(2&e){const e=t.$implicit,n=u.hc(2);u.Db(1),u.oc("ngClass",u.rc(2,z,n.filterBy&&n.filterBy.id===e.id)),u.Db(2),u.Rc(e.name)}}function k(e,t){if(1&e&&(u.Vb(0,"div"),u.Oc(1,A,4,4,"div",10),u.Ub()),2&e){const e=u.hc();u.Db(1),u.oc("ngForOf",e.areas)}}let P=(()=>{class e{constructor(e,t){this._areaService=e,this._organizationService=t,this.changeFilter=e=>this._organizationService.onChangeFilter(e),this._areaService.fetchAreas(),this._unsubscribeAll=new c.a}ngOnInit(){this._areaService.getAreas().pipe(Object(s.a)(this._unsubscribeAll)).subscribe(e=>{this.areas=e}),this._organizationService.getFilterByObservable().pipe(Object(s.a)(this._unsubscribeAll)).subscribe(e=>{this.filterBy=e})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return e.\u0275fac=function(t){return new(t||e)(u.Pb(y.a),u.Pb(h.a))},e.\u0275cmp=u.Jb({type:e,selectors:[["organization-sirebar"]],decls:12,vars:4,consts:[[1,"sidebar-content"],[1,"card"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header","p-24"],[1,"h3"],["fusePerfectScrollbar","",1,"content","py-16"],[1,"nav","material2"],["aria-label","inbox",1,"nav-item"],["matRipple","",1,"nav-link",3,"ngClass","click"],[1,"title"],[4,"ngIf"],["class","nav-item","aria-label","frequently contacted",3,"click",4,"ngFor","ngForOf"],["aria-label","frequently contacted",1,"nav-item",3,"click"],["matRipple","",1,"nav-link",3,"ngClass"]],template:function(e,t){1&e&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"span",3),u.Qc(4,"Filter"),u.Ub(),u.Ub(),u.Vb(5,"div",4),u.Vb(6,"div",5),u.Vb(7,"div",6),u.Vb(8,"a",7),u.dc("click",(function(){return t.changeFilter(null)})),u.Vb(9,"span",8),u.Qc(10,"All Organizations"),u.Ub(),u.Ub(),u.Ub(),u.Oc(11,k,2,1,"div",9),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&e&&(u.Db(8),u.oc("ngClass",u.rc(2,z,null===t.filterBy)),u.Db(3),u.oc("ngIf",t.areas))},directives:[f.c,f.b,C.a,D.p,i.q,x.a,i.t,i.s],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 0 auto;height:100%}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0}@media screen and (min-width:960px){[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{padding:24px 4px 24px 24px}}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:0 1 auto;padding:0;border-radius:8px}@media screen and (min-width:960px){[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{flex:0 1 auto;border-bottom:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{flex:0 1 auto}"]}),e})();var I=n("bSwM");function Q(e,t){1&e&&u.Qb(0,"organization-select-bar",15),2&e&&u.oc("@slideInTop",void 0)}function L(e,t){1&e&&u.Qb(0,"mat-progress-bar",16)}function M(e,t){1&e&&u.Qb(0,"div",17)}function F(e,t){1&e&&u.Qb(0,"th",31)}function T(e,t){if(1&e){const e=u.Wb();u.Vb(0,"td",32),u.Vb(1,"mat-checkbox",33),u.dc("click",(function(t){return u.Ec(e),t.stopPropagation()}))("change",(function(n){u.Ec(e);const i=t.$implicit,a=u.hc(2);return n?a.toogle(i):null})),u.Ub(),u.Ub()}if(2&e){const e=t.$implicit,n=u.hc(2);u.Db(1),u.oc("checked",n.selection.isSelected(e))("aria-label",n.checkboxLabel(e))}}function j(e,t){1&e&&(u.Vb(0,"th",31),u.Qc(1," Name"),u.Ub())}function B(e,t){if(1&e&&(u.Vb(0,"td",32),u.Qc(1),u.Ub()),2&e){const e=t.$implicit;u.Db(1),u.Sc(" ",e.name," ")}}function q(e,t){1&e&&(u.Vb(0,"th",31),u.Qc(1," Admin"),u.Ub())}function R(e,t){if(1&e&&(u.Vb(0,"td",32),u.Qc(1),u.Ub()),2&e){const e=t.$implicit;u.Db(1),u.Sc("",e.adminOrganization?e.adminOrganization.email:"-- None --"," ")}}function $(e,t){1&e&&(u.Vb(0,"th",31),u.Qc(1," Area"),u.Ub())}function E(e,t){if(1&e&&(u.Vb(0,"td",32),u.Qc(1),u.Ub()),2&e){const e=t.$implicit;u.Db(1),u.Sc("",e.area?e.area.name:"-- None --"," ")}}function N(e,t){1&e&&u.Qb(0,"tr",34)}function W(e,t){if(1&e){const e=u.Wb();u.Vb(0,"tr",35),u.dc("click",(function(){u.Ec(e);const n=t.$implicit;return u.hc(2).onDialog(n)})),u.Ub()}}const J=function(){return{value:"50"}},X=function(){return{y:"100%"}},H=function(e){return{value:"*",params:e}},G=function(){return{value:"*"}},K=function(){return{x:"100px"}};function Y(e,t){if(1&e&&(u.Vb(0,"div",18),u.Vb(1,"fuse-sidebar",19),u.Vb(2,"div",20),u.Qb(3,"organization-sirebar"),u.Ub(),u.Ub(),u.Vb(4,"div",21),u.Vb(5,"div",18),u.Vb(6,"table",22),u.Tb(7,23),u.Oc(8,F,1,0,"th",24),u.Oc(9,T,2,2,"td",25),u.Sb(),u.Tb(10,26),u.Oc(11,j,2,0,"th",24),u.Oc(12,B,2,1,"td",25),u.Sb(),u.Tb(13,27),u.Oc(14,q,2,0,"th",24),u.Oc(15,R,2,1,"td",25),u.Sb(),u.Tb(16,28),u.Oc(17,$,2,0,"th",24),u.Oc(18,E,2,1,"td",25),u.Sb(),u.Oc(19,N,1,0,"tr",29),u.Oc(20,W,1,0,"tr",30),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&e){const e=u.hc();u.oc("@animateStagger",u.qc(7,J)),u.Db(1),u.oc("@animate",u.rc(9,H,u.qc(8,X))),u.Db(2),u.oc("@animate",u.qc(11,G)),u.Db(2),u.oc("@animate",u.rc(13,H,u.qc(12,K))),u.Db(1),u.oc("dataSource",e.dataSource),u.Db(13),u.oc("matHeaderRowDef",e.displayedColumns),u.Db(1),u.oc("matRowDefColumns",e.displayedColumns)}}const Z=function(){return{delay:"300ms",scale:".2"}};let ee=(()=>{class e{constructor(e,t){this._organizationService=e,this.dialog=t,this.displayedColumns=["select","name","adminOrganization","area"],this.selection=new r.c(!0,[]),this.fetching=!0,this.showDeleteTopBar=!1,this.searchString="",this._organizationService.fetchOrganizations(),this._unsubscribeAll=new c.a,this.searchInput=new o.e(this.searchString)}ngOnInit(){this._organizationService.getFetchingObservable().pipe(Object(s.a)(this._unsubscribeAll)).subscribe(e=>{this.fetching=e}),this._organizationService.getOrganizationsObservable().pipe(Object(s.a)(this._unsubscribeAll)).subscribe(e=>{this.organizations=e,this.dataSource=new a.k(this.organizations)}),this._organizationService.getSearchTextObservable().pipe(Object(s.a)(this._unsubscribeAll)).subscribe(e=>{""===e&&this.searchInput.setValue(""),this.searchString=e,this.dataSource=new a.k(this.organizations.filter(e=>e.name.toLocaleLowerCase().includes(this.searchString.toLocaleLowerCase())))}),this._organizationService.getSelectedItemsObservable().pipe(Object(s.a)(this._unsubscribeAll)).subscribe(e=>{0===e.length?this.selection.clear():this.selection.select(...e)}),this._organizationService.getDeleteTopBarObservable().pipe(Object(s.a)(this._unsubscribeAll)).subscribe(e=>{this.showDeleteTopBar=e}),this.searchInput.valueChanges.pipe(Object(s.a)(this._unsubscribeAll),Object(l.a)(300),Object(b.a)()).subscribe(e=>{this._organizationService.onSearchTextChanged(e)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}toogle(e){this.selection.toggle(e),this._organizationService.onSelectedItemsChanged(this.selection.selected)}onDialog(e=null){console.log(e)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e)),this._organizationService.onSelectedItemsChanged(this.selection.selected)}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.id+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(t){return new(t||e)(u.Pb(h.a),u.Pb(g.b))},e.\u0275cmp=u.Jb({type:e,selectors:[["app-organizations"]],decls:22,vars:16,consts:[["id","table-element",1,"page-layout","simple","left-sidebar","inner-sidebar","inner-scroll"],["fxLayout","column","fxLayoutAlign","start","fxLayout.gt-xs","row","fxLayoutAlign.gt-xs","space-between center",1,"header","background","accent","p-16","p-sm-24"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","fxHide.gt-sm","",1,"sidebar-toggle","mr-12"],["fxLayout","row","fxLayoutAlign","start center",1,"logo"],[1,"logo-text","h1"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","",1,"ml-sm-32"],[1,"search-wrapper","mt-16","mt-sm-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["placeholder","Buscar...",3,"formControl"],["mat-fab","","id","add-contact-button","aria-label","add subarea",1,"sidebar-toggle","mr-12",3,"click"],["class","accent-600",4,"ngIf"],["mode","indeterminate",4,"ngIf"],["style","height: 4px;width: 100%",4,"ngIf"],["class","content",4,"fuseIfOnDom"],[1,"accent-600"],["mode","indeterminate"],[2,"height","4px","width","100%"],[1,"content"],["name","contacts-main-sidebar","position","left","lockedOpen","gt-sm",1,"sidebar"],["fusePerfectScrollbar","",1,"content"],["fusePerfectScrollbar","",1,"center","p-24","pb-56","pr-sm-92"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","adminOrganization"],["matColumnDef","area"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(e,t){1&e&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"button",3),u.Vb(4,"mat-icon"),u.Qc(5,"menu"),u.Ub(),u.Ub(),u.Vb(6,"div",4),u.Vb(7,"span",5),u.Qc(8," Organizations "),u.Ub(),u.Ub(),u.Ub(),u.Vb(9,"div",6),u.Vb(10,"div",7),u.Vb(11,"div",8),u.Vb(12,"mat-icon"),u.Qc(13,"search"),u.Ub(),u.Qb(14,"input",9),u.Ub(),u.Ub(),u.Ub(),u.Vb(15,"button",10),u.dc("click",(function(){return t.onDialog()})),u.Vb(16,"mat-icon"),u.Qc(17,"add"),u.Ub(),u.Ub(),u.Ub(),u.Oc(18,Q,1,1,"organization-select-bar",11),u.Oc(19,L,1,0,"mat-progress-bar",12),u.Oc(20,M,1,0,"div",13),u.Oc(21,Y,21,15,"div",14),u.Ub()),2&e&&(u.Db(6),u.oc("@animate",u.rc(8,H,u.qc(7,K))),u.Db(3),u.oc("@animate",u.rc(11,H,u.qc(10,K))),u.Db(5),u.oc("formControl",t.searchInput),u.Db(1),u.oc("@animate",u.rc(14,H,u.qc(13,Z))),u.Db(3),u.oc("ngIf",t.showDeleteTopBar&&t.selection.selected.length>0),u.Db(1),u.oc("ngIf",t.fetching),u.Db(1),u.oc("ngIf",!t.fetching))},directives:[p.a,f.c,f.b,m.b,x.b,v.a,f.a,o.c,o.o,o.f,i.t,O.a,S,U.a,_.a,C.a,P,a.j,a.c,a.e,a.b,a.g,a.i,a.d,a.a,I.a,a.f,a.h],styles:["table{width:100%}table td,table th{padding:2px 10px}#table-element .header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}#table-element .header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}#table-element .header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}#table-element .content{overflow:hidden}#table-element .content .sidebar:not(.locked-open){background:#fff}"],encapsulation:2,data:{animation:d.a}}),e})();var te=n("tyNb"),ne=n("LPQX"),ie=n("RaCk");const ae=[{path:"",component:ee}];let ce=(()=>{class e{}return e.\u0275mod=u.Nb({type:e}),e.\u0275inj=u.Mb({factory:function(t){return new(t||e)},imports:[[i.c,te.j.forChild(ae),f.e,v.b,m.c,x.c,o.s,U.b,ne.f,ie.a,a.l,I.b,V.b,D.q,ne.f]]}),e})()}}]);